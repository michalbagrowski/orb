description: Format check and validate. Requires init.
parameters:
  path:
    type: string
    default: "."
steps:
  - run:
      name: Terraform format check
      command: |
        terraform -chdir=<< parameters.path >> fmt -check=true -diff=true
  - run:
      name: Terraform validate
      command: |
        terraform -chdir=<< parameters.path >> validate
